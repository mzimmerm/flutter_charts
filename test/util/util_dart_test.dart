import 'package:test/test.dart'; // Dart test package
import 'package:flutter_charts/flutter_charts.dart';
import 'dart:ui' as ui show Rect;

void main() {
  test('scaleValue - test linear scaling utility', () {
    expect(scaleValue(
      value: 1.0,
      fromDomainMin: 1.0,
      fromDomainMax: 2.0,
      toDomainMin: 10.0,
      toDomainMax: 20.0,
    ),
      10.0,);
  });

  test('scaleValue - test linear scaling utility, from generated data', () {
    var data = [
      [1.0, 1.0, 2.0, 10.0, 20.0, 10.0],
      [2.0, 1.0, 2.0, 10.0, 20.0, 20.0],
 
      // ex10 linear and bar
      [-1000.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 413.42857142857144],
      [-1000.0, -1000.0, 4000.0, 441.42857142857144, 0.0, 441.42857142857144],
      [-200.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 312.07142857142856],
      [-200.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 348.56],
      [-400.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 337.41071428571433],
      [-400.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 364.77714285714285],
      [-600.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 362.75],
      [-600.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 380.99428571428575],
      [-800.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 388.0892857142857],
      [-800.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 397.2114285714286],
      [0.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 286.7321428571429],
      [0.0, -1000.0, 2200.0, 441.42857142857144, 0.0, 303.4821428571429],
      [0.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 332.34285714285716],
      [0.0, -1000.0, 4000.0, 441.42857142857144, 0.0, 353.14285714285717],
      [1000.0, -1000.0, 2200.0, 441.42857142857144, 0.0, 165.53571428571428],
      [1000.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 251.25714285714287],
      [1000.0, -1000.0, 4000.0, 441.42857142857144, 0.0, 264.8571428571429],
      [1200.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 235.04000000000002],
      [1400.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 109.35714285714289],
      [1400.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 218.82285714285715],
      [1600.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 84.01785714285717],
      [1600.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 202.6057142857143],
      [1800.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 58.678571428571445],
      [200.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 261.39285714285717],
      [200.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 316.1257142857143],
      [2000.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 33.33928571428572],
      [2000.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 170.17142857142858],
      [2000.0, -1000.0, 4000.0, 441.42857142857144, 0.0, 176.5714285714286],
      [2200.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 8.0],
      [2600.0, -1000.0, 2200.0, 413.42857142857144, 8.0, -42.678571428571445],
      [2800.0, -1000.0, 2200.0, 413.42857142857144, 8.0, -68.01785714285717],
      [2800.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 105.30285714285714],
      [3000.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 89.08571428571429],
      [3000.0, -1000.0, 4000.0, 441.42857142857144, 0.0, 88.28571428571428],
      [3200.0, -1000.0, 2200.0, 413.42857142857144, 8.0, -118.69642857142856],
      [3400.0, -1000.0, 2200.0, 413.42857142857144, 8.0, -144.03571428571433],
      [3400.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 56.651428571428596],
      [3600.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 40.43428571428569],
      [400.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 236.05357142857144],
      [400.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 299.90857142857146],
      [4000.0, -1000.0, 2200.0, 413.42857142857144, 8.0, -220.05357142857144],
      [4000.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 8.0],
      [4000.0, -1000.0, 4000.0, 441.42857142857144, 0.0, 0.0],
      [600.0, -1000.0, 4000.0, 413.42857142857144, 8.0, 283.69142857142856],
      [800.0, -1000.0, 2200.0, 413.42857142857144, 8.0, 185.375],
      // ex32 linear
      [0.0, 20.0, 40.0, 413.42857142857144, 8.0, 818.8571428571429],
      [20.0, 20.0, 40.0, 413.42857142857144, 8.0, 413.42857142857144],
      [20.0, 20.0, 40.0, 441.42857142857144, 0.0, 441.42857142857144],
      [25.0, 20.0, 40.0, 413.42857142857144, 8.0, 312.07142857142856],
      [30.0, 20.0, 40.0, 413.42857142857144, 8.0, 210.71428571428572],
      [30.0, 20.0, 40.0, 441.42857142857144, 0.0, 220.71428571428572],
      [35.0, 20.0, 40.0, 413.42857142857144, 8.0, 109.35714285714289],
      [40.0, 20.0, 40.0, 413.42857142857144, 8.0, 8.0],
      [40.0, 20.0, 40.0, 441.42857142857144, 0.0, 0.0],
      [50.0, 20.0, 40.0, 413.42857142857144, 8.0, -194.71428571428567],
      [55.0, 20.0, 40.0, 413.42857142857144, 8.0, -296.07142857142856],
      [60.0, 20.0, 40.0, 413.42857142857144, 8.0, -397.42857142857144],
      [65.0, 20.0, 40.0, 413.42857142857144, 8.0, -498.78571428571433],
      [70.0, 20.0, 40.0, 413.42857142857144, 8.0, -600.1428571428572],
      // ex33 linear
      [-20.0, -40.0, -20.0, 413.42857142857144, 8.0, 8.0],
      [-20.0, -40.0, -20.0, 441.42857142857144, 0.0, 0.0],
      [-25.0, -40.0, -20.0, 413.42857142857144, 8.0, 109.35714285714289],
      [-30.0, -40.0, -20.0, 413.42857142857144, 8.0, 210.71428571428572],
      [-30.0, -40.0, -20.0, 441.42857142857144, 0.0, 220.71428571428572],
      [-35.0, -40.0, -20.0, 413.42857142857144, 8.0, 312.07142857142856],
      [-40.0, -40.0, -20.0, 413.42857142857144, 8.0, 413.42857142857144],
      [-40.0, -40.0, -20.0, 441.42857142857144, 0.0, 441.42857142857144],
      [-50.0, -40.0, -20.0, 413.42857142857144, 8.0, 616.1428571428571],
      [-55.0, -40.0, -20.0, 413.42857142857144, 8.0, 717.5],
      [-60.0, -40.0, -20.0, 413.42857142857144, 8.0, 818.8571428571429],
      [-65.0, -40.0, -20.0, 413.42857142857144, 8.0, 920.2142857142858],
      [-70.0, -40.0, -20.0, 413.42857142857144, 8.0, 1021.5714285714286],
      [0.0, -40.0, -20.0, 413.42857142857144, 8.0, -397.428571428571434],
    ];
    for (var dataRow in data) {
      expect(
        scaleValue(
          value: dataRow[0],
          fromDomainMin: dataRow[1],
          fromDomainMax: dataRow[2],
          toDomainMin: dataRow[3],
          toDomainMax: dataRow[4],
        ),
        dataRow[5],
      );
    }
  });

  test('outerRectangle - test creating outer rectangle from a list of rectangles', () {
    ui.Rect rect1 = const ui.Rect.fromLTRB(1.0, 2.0, 4.0, 6.0);
    ui.Rect rect2 = const ui.Rect.fromLTRB(10.0, 20.0, 40.0, 50.0);
    expect(
      outerRectangle([rect1, rect2]),
      const ui.Rect.fromLTRB(1.0, 2.0, 39.0, 48.0),
    );
  });
}
